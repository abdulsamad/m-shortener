(this["webpackJsonpurl-shortener-is.gd"]=this["webpackJsonpurl-shortener-is.gd"]||[]).push([[0],{18:function(e,t,a){e.exports=a(71)},23:function(e,t,a){},24:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),o=a.n(r),c=(a(23),a(24),a(3));var s=function(e){var t=e.title;return l.a.createElement("header",null,l.a.createElement(c.Navbar,{alignLinks:"right",brand:l.a.createElement("a",{href:document.domain},t),menuIcon:l.a.createElement(c.Icon,null,"menu"),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}}))},i=a(8),m=a(7),u=a.n(m);function d(e){var t=e.copyText,a=e.classes,r=e.btnText,o=e.title;return l.a.createElement(n.Fragment,null,l.a.createElement("a",{href:"#!",className:a,onClick:function(){return function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),u.a.toast({html:"<i class='material-icons green-text'>check_circle</i> &nbsp; Link Copied",classes:"copy-toast"})}(t)},title:o},l.a.createElement(c.Icon,{left:!0},"content_copy")," ",r))}d.defaultProps={btnText:"Copy"};var h=d;var p=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],o=function(e,t,a){var n={url:e,shorturl:t,stats:a,id:t.replace("https://is.gd/","")};if(null===localStorage.getItem("linksCollection")){var l=[];l.unshift(n),localStorage.setItem("linksCollection",JSON.stringify(l))}else{var r=JSON.parse(localStorage.getItem("linksCollection"));r.unshift(n),localStorage.setItem("linksCollection",JSON.stringify(r))}};return l.a.createElement("section",{className:"form-container"},l.a.createElement(c.CardPanel,null,l.a.createElement(c.Row,null,l.a.createElement(c.Col,{s:12},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();try{var t=new URL(e.target.elements.url.value),a=e.target.elements.stats.checked;a?fetch("https://is.gd/create.php?format=json&url=".concat(t,"&logstats=1")).then((function(e){return e.json()})).then((function(e){r(e.shorturl),o(t.href,e.shorturl,a)})).catch((function(e){throw e})):fetch("https://is.gd/create.php?format=json&url=".concat(t)).then((function(e){return e.json()})).then((function(e){r(e.shorturl),o(t.href,e.shorturl,a)})).catch((function(e){throw e})),e.target.elements.url.value=""}catch(n){console.log(n),u.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; ".concat(n.message),classes:"error-toast"})}},className:"form"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{className:"active",htmlFor:"url"},"Enter a Long URL"),l.a.createElement("input",{type:"url",name:"url",className:"validate",required:!0})),l.a.createElement(c.Row,null,l.a.createElement(c.Col,{s:12},l.a.createElement("div",{className:"switch"},l.a.createElement("label",null,l.a.createElement("span",null,"Show Stats"),l.a.createElement("input",{disabled:!0,type:"checkbox",name:"stats"}),l.a.createElement("span",{className:"lever"}),l.a.createElement("span",null,"(Coming Soon)"))))),l.a.createElement(c.Button,{node:"button",type:"submit",style:{marginRight:"5px"},waves:"light"},l.a.createElement(c.Icon,{left:!0},"content_cut"),l.a.createElement("span",null,"Shorten It"))),a&&l.a.createElement("div",null,l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"url",name:"shortenurl",value:a,disabled:!0})),navigator.share&&l.a.createElement(c.Button,{small:!0,onClick:function(){var e={title:"Created with ".concat(document.title),text:"Check this out!",url:a};navigator.share(e)},node:"button",style:{marginRight:"5px"},waves:"light"},l.a.createElement(c.Icon,{left:!0},"share"),l.a.createElement("span",null,"Share")),l.a.createElement(h,{copyText:a,classes:"btn btn-small",btnText:"Copy",title:"Copy ShortURL to Clipboard"}))))))};var E=function(){var e=localStorage.getItem("linksCollection"),t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(0),m=Object(i.a)(s,2),d=m[0],p=m[1],E=Object(n.useState)(10),f=Object(i.a)(E,2),g=f[0],v=f[1],b=Object(n.useState)(0),C=Object(i.a)(b,2),S=C[0],y=C[1];Object(n.useEffect)((function(){var t=1;if(localStorage.getItem("linksCollection")){for(var a=JSON.parse(e).length;10*t<a;)t++;y(t)}if(e){var n=JSON.parse(e).slice(d,g);o(n)}}),[d,g,e]);var k=function(){var e=document.createElement("a"),t=localStorage.getItem("linksCollection");t?(e.href="data:text/json;charset=utf-8,"+encodeURIComponent(t),e.download="shorten_urls_backup.json",document.body.appendChild(e),e.click(),document.body.removeChild(e)):u.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; Nothing to export",classes:"error-toast"})};return l.a.createElement("section",{className:"links-collection z-depth-2 hoverable"},l.a.createElement(c.Collection,{header:l.a.createElement("div",{className:"list-head"},l.a.createElement("div",{className:"heading"},"Recent Shorten Links"),l.a.createElement("span",{className:"list-dropdown"},l.a.createElement(c.Dropdown,{id:"list-dropdown",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:l.a.createElement("a",{href:"#!"},l.a.createElement(c.Icon,{right:!0},"more_vert"))},l.a.createElement("a",{href:"#!",onChange:function(e){var t=e.target.files[0];if(t)try{var a=new FileReader;if("application/json"!==t.type)throw new Error("Not a valid file");a.readAsText(t,"UTF-8"),a.onload=function(e){var t=JSON.parse(e.target.result),a=localStorage.getItem("linksCollection");if(null===a)localStorage.setItem("linksCollection",JSON.stringify(t));else{var n=t.concat(JSON.parse(a));localStorage.setItem("linksCollection",JSON.stringify(n))}window.location.reload()}}catch(n){u.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; ".concat(n.message),classes:"error-toast"})}}},l.a.createElement(c.Icon,{left:!0},"import_export"),l.a.createElement("input",{type:"file",className:"import-file-input"})),l.a.createElement("a",{href:"#!",onClick:k},l.a.createElement(c.Icon,{left:!0},"cloud_download")," Export"),l.a.createElement("a",{className:"modal-trigger",href:"#delete-modal",node:"a"},l.a.createElement(c.Icon,{left:!0},"delete")," Delete"))),l.a.createElement(c.Modal,{bottomSheet:!1,fixedFooter:!1,header:"Delete All links stored locally?",id:"delete-modal",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"}},l.a.createElement("h6",null,"All yours created short links will continue to redirect to their destination."),l.a.createElement("p",null,"You can backup you data\xa0",l.a.createElement("a",{href:"#!",onClick:k},"here.")),l.a.createElement(c.Button,{className:"red darken-1",node:"button",onClick:function(){localStorage.clear(),window.location.reload()}},"Yes")))},0===r.length&&l.a.createElement(c.CollectionItem,null,l.a.createElement("br",null),l.a.createElement("h5",{className:"grey-text"},"Your history will appear here."),l.a.createElement("br",null)),r.map((function(e,t){return l.a.createElement(c.CollectionItem,{key:t},l.a.createElement(c.Row,null,l.a.createElement(c.Col,{s:11},e.shorturl," ",l.a.createElement("br",null),l.a.createElement("span",{className:"truncate blue-text"},e.url)),l.a.createElement(c.Col,{s:1},l.a.createElement(h,{copyText:e.shorturl,classes:"secondary-content",btnText:"",title:"Copy ShortURL to Clipboard"}))))})),l.a.createElement(c.CollectionItem,{className:"center-align"},l.a.createElement(c.Pagination,{activePage:1,items:S,leftBtn:l.a.createElement(c.Icon,null,"chevron_left"),maxButtons:S,rightBtn:l.a.createElement(c.Icon,null,"chevron_right"),onSelect:function(e){p(10*e-10),v(10*e)}}))))};var f=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(s,{title:"URL Shortener"}),l.a.createElement("div",{className:"container"},l.a.createElement(p,null),l.a.createElement(E,null)))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.06db6f3d.chunk.js.map