(this["webpackJsonpurl-shortener-is.gd"]=this["webpackJsonpurl-shortener-is.gd"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),c=(a(35),a(36),a(3));var i=function(){return l.a.createElement("div",null,l.a.createElement(c.Modal,{actions:[l.a.createElement(c.Button,{flat:!0,modal:"close",node:"button",waves:"green"},"Close")],bottomSheet:!0,fixedFooter:!1,header:"About",id:"about-modal",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},trigger:l.a.createElement("div",null,"About")},l.a.createElement("div",{className:"about"},l.a.createElement("div",{className:"flow-text"},"URL Shortner v","1.0.0"),l.a.createElement("div",{className:"valign-wrapper",style:{marginTop:"5px"}},"Made with \xa0 ",l.a.createElement(c.Icon,{className:"red-text"},"favorite")," \xa0 by \xa0","Abdul Samad"))))};var s=function(e){var t=e.title;return l.a.createElement("header",null,l.a.createElement(c.Navbar,{alignLinks:"right",brand:l.a.createElement("a",{href:document.domain},t),menuIcon:l.a.createElement(c.Icon,null,"menu"),options:{draggable:!1,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}},l.a.createElement(c.NavItem,null,l.a.createElement(i,null))))},m=a(16),u=a.n(m),d=a(29),p=a(9),h=a(7),E=a.n(h);function f(e){var t=e.copyText,a=e.classes,r=e.btnText,o=e.title;return l.a.createElement(n.Fragment,null,l.a.createElement("a",{href:"#!",className:a,onClick:function(){return function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),E.a.toast({html:"<i class='material-icons green-text'>check_circle</i> &nbsp; Link Copied",classes:"copy-toast"})}(t)},title:o},l.a.createElement(c.Icon,{left:!0},"content_copy")," ",r))}f.defaultProps={btnText:"Copy"};var g=f,v=a(12),b=a.n(v);var S=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],o=Object(n.useRef)(),i=function(e,t,a,n){var l={url:e,shorturl:t,stats:a,title:n,id:t.replace("https://is.gd/","")};if(null===localStorage.getItem("linksCollection")){var r=[];r.unshift(l),localStorage.setItem("linksCollection",JSON.stringify(r))}else{var o=JSON.parse(localStorage.getItem("linksCollection"));o.unshift(l),localStorage.setItem("linksCollection",JSON.stringify(o))}},s=function(e){return b.a.get("https://cors-anywhere.herokuapp.com/".concat(e),{timeout:3e3}).then((function(e){var t=(new DOMParser).parseFromString(e.data,"text/html").querySelectorAll("title")[0];if(t)return t.innerText.trim()}))},m=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.readText();case 3:t=e.sent,o.current.value=t,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Clipboard API not supported or Clipboard permission not granted."),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("section",{className:"form-container"},l.a.createElement(c.CardPanel,null,l.a.createElement(c.Row,null,l.a.createElement(c.Col,{s:12},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t,a=new URL(e.target.elements.url.value),n=e.target.elements.stats.checked;s(a.href).then((function(e){return t=e})).finally((function(){n?b.a.get("https://is.gd/create.php?format=json&url=".concat(a,"&logstats=1"),{timeout:5e3}).then((function(e){var l=e.data.shorturl;r(l),i(a.href,l,n,t)})).catch((function(e){console.log(e),E.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; ".concat(e.message),classes:"error-toast"})})):b.a.get("https://is.gd/create.php?format=json&url=".concat(a),{timeout:5e3}).then((function(e){var l=e.data.shorturl;r(l),i(a.href,l,n,t)})).catch((function(e){console.log(e),E.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; ".concat(e.message),classes:"error-toast"})}))})),e.target.elements.url.value=""},className:"form"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{className:"active",htmlFor:"url"},"Enter a Long URL"),l.a.createElement("input",{type:"url",name:"url",ref:o,placeholder:"https://mylongurl.com/",className:"validate url",required:!0}),l.a.createElement(c.Button,{flat:!0,className:"paste-button hide",style:{padding:"0"},waves:"light",onClick:m},l.a.createElement(c.Icon,null,"content_paste"))),l.a.createElement(c.Row,null,l.a.createElement(c.Col,{s:12},l.a.createElement("div",{className:"switch"},l.a.createElement("label",null,l.a.createElement("span",null,"Show Stats"),l.a.createElement("input",{type:"checkbox",name:"stats"}),l.a.createElement("span",{className:"lever"}))))),l.a.createElement(c.Button,{node:"button",type:"submit",style:{marginRight:"5px"},waves:"light"},l.a.createElement(c.Icon,{left:!0},"content_cut"),l.a.createElement("span",null,"Shorten It"))),a&&l.a.createElement("div",null,l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"url",name:"shortenurl",value:a,disabled:!0})),navigator.share&&l.a.createElement(c.Button,{small:!0,onClick:function(){var e={title:"Created with ".concat(document.title),text:"Check this out!",url:a};navigator.share(e)},node:"button",style:{marginRight:"5px"},waves:"light"},l.a.createElement(c.Icon,{left:!0},"share"),l.a.createElement("span",null,"Share")),l.a.createElement(g,{copyText:a,classes:"btn btn-small",btnText:"Copy",title:"Copy ShortURL to Clipboard"}))))))};var C=function(){var e=localStorage.getItem("linksCollection"),t="e5a9cc5a85b282aec3acbc5f95bd009a",a=Object(n.useState)([]),r=Object(p.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(0),m=Object(p.a)(s,2),u=m[0],d=m[1],h=Object(n.useState)(10),f=Object(p.a)(h,2),v=f[0],b=f[1],S=Object(n.useState)(0),C=Object(p.a)(S,2),y=C[0],N=C[1];Object(n.useEffect)((function(){var t=1;if(e){for(var a=JSON.parse(e).length;10*t<a;)t++;N(t);var n=JSON.parse(e).slice(u,v);i(n)}}),[u,v,e]);var k=function(){var e=document.createElement("a"),a=JSON.parse(localStorage.getItem("linksCollection"));a?(a.push({id:t}),e.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a)),e.download=document.domain+".json",document.body.appendChild(e),e.click(),document.body.removeChild(e),E.a.toast({html:"<i class='material-icons blue-text'>info</i> &nbsp; Please download your backup and Keep it safe."})):E.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; Nothing to export",classes:"error-toast"})};return l.a.createElement("section",{className:"links-collection z-depth-2 hoverable"},l.a.createElement(c.Collection,{header:l.a.createElement("div",{className:"list-head"},l.a.createElement("div",{className:"heading"},"Recent Shorten Links"),l.a.createElement("span",{className:"list-dropdown"},l.a.createElement(c.Dropdown,{id:"list-dropdown",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:l.a.createElement("a",{href:"#!"},l.a.createElement(c.Icon,{right:!0},"more_vert"))},l.a.createElement("a",{href:"#!",onChange:function(e){var a=e.target.files[0];if(a)try{var n=new FileReader;if("application/json"!==a.type)throw new Error("Not a valid file");n.readAsText(a,"UTF-8"),n.onload=function(e){var a=JSON.parse(e.target.result),n=a.pop().id,l=localStorage.getItem("linksCollection");if(n!==t)throw new Error("Not a valid file");if(null===l)localStorage.setItem("linksCollection",JSON.stringify(a));else{var r=a.concat(JSON.parse(l));localStorage.setItem("linksCollection",JSON.stringify(r))}window.location.reload()}}catch(l){E.a.toast({html:"<i class='material-icons red-text'>error</i> &nbsp; ".concat(l.message),classes:"error-toast"})}}},l.a.createElement(c.Icon,{left:!0},"import_export"),l.a.createElement("input",{type:"file",className:"import-file-input"})),l.a.createElement("a",{href:"#!",onClick:k},l.a.createElement(c.Icon,{left:!0},"cloud_download")," Export"),l.a.createElement("a",{className:"modal-trigger",href:"#delete-modal",node:"a"},l.a.createElement(c.Icon,{left:!0},"delete")," Delete"))),l.a.createElement(c.Modal,{bottomSheet:!1,fixedFooter:!1,header:"Delete All links stored locally?",id:"delete-modal",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"}},l.a.createElement("h6",null,"All yours created short links will continue to redirect to their destination."),l.a.createElement("p",null,"You can backup you data\xa0",l.a.createElement("a",{href:"#!",onClick:k},"here.")),l.a.createElement(c.Button,{className:"red darken-1",node:"button",onClick:function(){localStorage.removeItem("linksCollection"),window.location.reload()}},"Yes")))},0===o.length&&l.a.createElement(c.CollectionItem,null,l.a.createElement("br",null),l.a.createElement("h5",{className:"grey-text"},"Your history will appear here."),l.a.createElement("br",null)),o.map((function(e,t){return l.a.createElement(c.CollectionItem,{key:t},l.a.createElement(c.Row,null,l.a.createElement(c.Col,{s:11},l.a.createElement("div",{className:"truncate"},e.title?e.title:e.url),l.a.createElement("div",{className:"truncate blue-text"},e.shorturl)),l.a.createElement(c.Col,{s:1},l.a.createElement(g,{copyText:e.shorturl,classes:"secondary-content",btnText:"",title:"Copy ShortURL to Clipboard"}),e.stats&&l.a.createElement("a",{href:"https://is.gd/stats.php?url=".concat(e.id),target:"_blank",rel:"noreferrer noopener",className:"secondary-content",title:"Check Statistics"},l.a.createElement(c.Icon,{left:!0},"show_chart")))))})),l.a.createElement(c.CollectionItem,{className:"center-align"},l.a.createElement(c.Pagination,{activePage:1,items:y,leftBtn:l.a.createElement(c.Icon,null,"chevron_left"),maxButtons:5,rightBtn:l.a.createElement(c.Icon,null,"chevron_right"),onSelect:function(e){d(10*e-10),b(10*e)}}))))};var y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(s,{title:"URL Shortener"}),l.a.createElement("div",{className:"container"},l.a.createElement(S,null),l.a.createElement(C,null)))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root"))},30:function(e,t,a){e.exports=a(101)},35:function(e,t,a){},36:function(e,t,a){}},[[30,1,2]]]);
//# sourceMappingURL=main.29f7ec1a.chunk.js.map